<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betra777</title>
    <link rel="icon" href="images/Picture.webp" type="image/x-icon">
    <link rel="shortcut icon" href="images/Picture.webp" type="image/x-icon">
    <style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        body{
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        section{
            position: relative;
            scroll-behavior: smooth; /* 添加平滑滾動效果 */
        }
        .page{
            position: relative;
            width: 100%;
            height: 100vh;
        }
        .page-1{background: url(images/BetraLP_1920x1000_PC-1.webp)no-repeat center/cover;}
        .page-2{background: url(images/BetraLP_1920x1000_PC-2.webp)no-repeat center/cover;}
        .page-3{background: url(images/BetraLP_1920x1000_PC-3.webp)no-repeat center/cover;}
        .page-4{background: url(images/BetraLP_1920x1000_PC-4.webp)no-repeat center/cover;}
        .page-5{background: url(images/BetraLP_1920x1000_PC-5.webp)no-repeat center/cover;}
        .page-6{background: url(images/BetraLP_1920x1000_PC-6.webp)no-repeat center/cover;}
        .btn{
            position: absolute;
            transform: translate(-50%, -50%);
        }
        .show .btn{
            animation: scale alternate infinite ease .8s;
        }
        .btn img{
            width: 100%;
        }
        .btn-1{
            top: 30%;
            left: 22.5%;
            width: 30%;
        }
        .btn-2{
            top: 70%;
            left: 13%;
            width: 20%;
        }
        .btn-3{
            top: 70%;
            left: 38%;
            width: 20%;
        }
        .btn-4{
            top: 70%;
            left: 63%;
            width: 20%;
        }
        .btn-5{
            top: 70%;
            left: 88%;
            width: 20%;
        }
        .btn-6{
            top: 80%;
            left: 28.5%;
            width: 40%;
        }
        @media screen and (max-width:820px) {
            .page-1{background: url(images/BetraLP_1920x1000_Phone-1.webp)no-repeat center/contain;}
            .page-2{background: url(images/BetraLP_1920x1000_Phone-2.webp)no-repeat center/contain;}
            .page-3{background: url(images/BetraLP_1920x1000_Phone-3.webp)no-repeat center/contain;}
            .page-4{background: url(images/BetraLP_1920x1000_Phone-4.webp)no-repeat center/contain;}
            .page-5{background: url(images/BetraLP_1920x1000_Phone-5.webp)no-repeat center/contain;}
            .page-6{background: url(images/BetraLP_1920x1000_Phone-6.webp)no-repeat center/contain;}
            .btn-1{
                top: 25%;
                left: 33.5%;
                width: 35%;
            }
            .btn-2{
                top: 49.5%;
                left: 31.5%;
                width: 30%;
            }
            .btn-3{
                top: 49.5%;
                left: 68.5%;
                width: 30%;
            }
            .btn-4{
                top: 77%;
                left: 31.5%;
                width: 30%;
            }
            .btn-5{
                top: 77%;
                left: 68.5%;
                width: 30%;
            }
            .btn-6{
                top: 90%;
                left: 50%;
                width: 60%;
            }
        }

        @media screen and (max-width:575px) {
            .btn-1{
                top: 25%;
                left: 30.5%;
                width: 50%;
            }
            .btn-2{
                top: 49.5%;
                left: 27%;
                width: 37%;
            }
            .btn-3{
                top: 49.5%;
                left: 73%;
                width: 37%;
            }
            .btn-4{
                top: 77%;
                left: 27%;
                width: 37%;
            }
            .btn-5{
                top: 77%;
                left: 73%;
                width: 37%;
            }
            .btn-6{
                top: 90%;
                left: 50%;
                width: 80%;
            }
        }

        @keyframes scale {
            0%{
                transform: translate(-50%, -50%) scale(.9);
            }
            100%{
                transform: translate(-50%, -50%) scale(1);
            }
        }
    </style>
</head>
<body>
    <section>
        <div class="page page-1">
            <a class="btn btn-1" href="registered.php?pid=HKB02"><img src="images/PC_p1-button.webp" alt="Betra777"></a>
        </div>
        <div class="page page-2">
            <a class="btn btn-2" href="registered.php?pid=HKB02"><img src="images/PC_p2-button.webp" alt="Betra777"></a>
            <a class="btn btn-3" href="registered.php?pid=HKB02"><img src="images/PC_p2-button.webp" alt="Betra777"></a>
            <a class="btn btn-4" href="registered.php?pid=HKB02"><img src="images/PC_p2-button.webp" alt="Betra777"></a>
            <a class="btn btn-5" href="registered.php?pid=HKB02"><img src="images/PC_p2-button.webp" alt="Betra777"></a>
        </div>
        <div class="page page-3">3</div>
        <div class="page page-4">4</div>
        <div class="page page-5">5</div>
        <div class="page page-6">
            <a class="btn btn-6" href="registered.php?pid=HKB02"><img src="images/PC_p6-button.webp" alt="Betra777"></a>
        </div>
    </section>

    <script>
        // 獲取具有 .page 類別的所有 <div> 元素
        const pageDivs = document.querySelectorAll('.page');

        // 設定每個 <div> 元素的高度為瀏覽器視窗的高度
        pageDivs.forEach((div) => {
            div.style.height = window.innerHeight + 'px';
        });

        function throttle (fn, delay) {
            let baseTime = 0
            return function () {
                const currentTime = Date.now()
                if (baseTime + delay < currentTime) {
                fn.apply(this, arguments)
                baseTime = currentTime
                }
            }
        }

        const pages = document.querySelectorAll('.page');
        const section = document.querySelector('section');
        const totalPages = pages.length;
        let currentPage = 0;
        let touchStartY = 0;
        let touchEndY = 0;

        function scrollToWithAnimation(targetPosition, duration) {
            const startPosition = window.scrollY;
            const startTime = performance.now();
            
            function animateScroll(currentTime) {
                const elapsedTime = currentTime - startTime;
                if (elapsedTime < duration) {
                    const progress = elapsedTime / duration;
                    const easeInOutProgress = 0.5 - Math.cos(progress * Math.PI) / 2;
                    const currentPosition = startPosition + (targetPosition - startPosition) * easeInOutProgress;
                    
                    window.scrollTo(0, currentPosition);
                    
                    requestAnimationFrame(animateScroll);
                } else {
                    window.scrollTo(0, targetPosition);
                }
            }
            
            requestAnimationFrame(animateScroll);
        }

        function updatePageVisibility() {
            pages.forEach((page, index) => {
                if (index === currentPage) {
                    page.classList.add('show');
                } else {
                    page.classList.remove('show');
                }
            });
        }

        function handleScroll(event) {
            if (event.deltaY > 0) {
                // 向下滾動
                currentPage = Math.min(currentPage + 1, totalPages - 1);
            } else if (event.deltaY < 0) {
                // 向上滾動
                currentPage = Math.max(currentPage - 1, 0);
            }
            
            // 計算目標位置並滾動
            const targetPosition = currentPage * window.innerHeight;
            const animationDuration = 500; // 動畫持續時間，單位為毫秒
            scrollToWithAnimation(targetPosition, animationDuration);
            
            // 更新頁面可見性
            updatePageVisibility();
        }

        // 使用節流處理程序監聽滾動事件
        const throttledHandleScroll = throttle(handleScroll, 500);
        section.addEventListener('wheel', throttledHandleScroll);

        function handleTouchStart(event) {
            touchStartY = event.touches[0].clientY;
        }

        function handleTouchEnd(event) {
            touchEndY = event.changedTouches[0].clientY;
            const deltaY = touchEndY - touchStartY;
            
            if (deltaY < 0) {
                // 向下滑動
                currentPage = Math.min(currentPage + 1, totalPages - 1);
            } else if (deltaY > 0) {
                // 向上滑動
                currentPage = Math.max(currentPage - 1, 0);
            }

            // 計算目標位置並滾動
            const targetPosition = currentPage * window.innerHeight;
            const animationDuration = 500; // 動畫持續時間，單位為毫秒
            scrollToWithAnimation(targetPosition, animationDuration);
            
            // 更新頁面可見性
            updatePageVisibility();
            
            // 重置觸摸起始位置
            touchEndY = 0;
            touchStartY = 0;
        }

        // 監聽觸摸事件
        const throttledHandleTouchEnd = throttle(handleTouchEnd, 500);
        section.addEventListener('touchstart', handleTouchStart);
        section.addEventListener('touchmove', throttledHandleTouchEnd);

        // 頁面載入時初始化頁面可見性
        updatePageVisibility();

    </script>
</body>
</html>